# Get Candidate Profile

API để lấy thông tin hồ sơ năng lực của candidate hiện tại.

## Endpoint
`GET /api/profile`

## Authentication
Required (JWT Token) - Candidate

## Request
No request body required.

## Response Success (200 OK)
```json
{
  "success": true,
  "data": {
    "user_id": 1,
    "current_level": "Junior",
    "target_level": "Middle",
    "primary_stack": "Backend",
    "secondary_stacks": ["Frontend", "DevOps"],
    "strengths": [
      "Laravel expertise",
      "Clean code",
      "Problem solving"
    ],
    "weaknesses": [
      "Performance optimization",
      "System design"
    ],
    "avg_score": 7.5,
    "interview_count": 3,
    "last_interview_at": "2026-01-20 10:00:00",
    "is_ready_for_target": true
  },
  "message": "Profile retrieved successfully."
}
```

## Response Fields

### Editable Fields (Candidate can update)
- `target_level`: Cấp độ mục tiêu
- `primary_stack`: Ngăn xếp công nghệ chính
- `secondary_stacks`: Các ngăn xếp phụ

### Read-only Fields (Derived from interviews)
- `current_level`: Cấp độ hiện tại (từ interview gần nhất)
- `strengths`: Điểm mạnh (tổng hợp từ AI evaluation)
- `weaknesses`: Điểm yếu (tổng hợp từ AI evaluation)
- `avg_score`: Điểm trung bình (tính từ tất cả interviews)
- `interview_count`: Số lần phỏng vấn đã hoàn thành
- `last_interview_at`: Thời gian phỏng vấn gần nhất
- `is_ready_for_target`: Sẵn sàng cho target level (avg_score >= 7.0)

## Business Rules
1. **1-1 mapping**: Mỗi user chỉ có 1 profile
2. **Auto-create**: Profile tự động tạo khi candidate set goals lần đầu
3. **Auto-sync**: Derived fields tự động cập nhật sau mỗi interview evaluation
4. **Read-only scores**: Candidate không thể sửa score, strengths, weaknesses

## Profile States

### New Candidate (No profile)
```json
{
  "success": true,
  "data": null,
  "message": "Profile not found. Please set your career goals."
}
```

### Active Profile
Profile với đầy đủ thông tin từ interviews và goals

## Error Cases
- **401 Unauthorized**: Missing hoặc invalid token

## cURL Example
```bash
curl -X GET http://localhost:8000/api/profile \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

## Use Cases
- **Dashboard**: Hiển thị tổng quan profile
- **Progress tracking**: Theo dõi tiến độ học tập
- **Recommendation**: Input cho AI recommendation engine
- **Personalization**: Cá nhân hóa interview experience

## Notes
- Profile được tạo tự động khi candidate update goals lần đầu
- Derived fields chỉ update sau khi interview được evaluated
- `is_ready_for_target` = true khi avg_score >= 7.0
