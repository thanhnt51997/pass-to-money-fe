# Get Candidate Interview History

API để lấy lịch sử phỏng vấn của candidate.

## Endpoint
`GET /api/profile/history`

## Authentication
Required (JWT Token) - Candidate

## Query Parameters
- `per_page`: (optional) Số items per page, default: 15

## Response Success (200 OK)
```json
{
  "success": true,
  "data": {
    "items": [
      {
        "id": 5,
        "template_id": "9d2e5c8a-1234-5678-9abc-def012345678",
        "level": "Junior",
        "stack": "Backend",
        "status": "evaluated",
        "score_total": 8.5,
        "started_at": "2026-01-20 10:00:00",
        "submitted_at": "2026-01-20 11:30:00",
        "evaluated_at": "2026-01-20 12:00:00"
      },
      {
        "id": 3,
        "template_id": "8c1d4e5f-2345-6789-abcd-ef0123456789",
        "level": "Junior",
        "stack": "Backend",
        "status": "evaluated",
        "score_total": 7.0,
        "started_at": "2026-01-18 14:00:00",
        "submitted_at": "2026-01-18 15:45:00",
        "evaluated_at": "2026-01-18 16:00:00"
      }
    ],
    "meta": {
      "total": 3,
      "current_page": 1,
      "last_page": 1
    }
  },
  "message": "Interview history retrieved successfully."
}
```

## Response Fields
- `id`: Interview session ID
- `template_id`: Template được sử dụng
- `level`: Cấp độ interview
- `stack`: Ngăn xếp công nghệ
- `status`: Trạng thái (submitted, evaluated)
- `score_total`: Điểm tổng (null nếu chưa evaluated)
- `started_at`: Thời gian bắt đầu
- `submitted_at`: Thời gian nộp bài
- `evaluated_at`: Thời gian đánh giá

## Business Rules
1. **Only completed interviews**: Chỉ hiển thị interviews có status = `submitted` hoặc `evaluated`
2. **Newest first**: Sort theo created_at DESC
3. **User isolation**: Chỉ xem history của chính mình
4. **Pagination**: Support phân trang

## Filter by Status
Hiện tại chỉ show interviews đã submit hoặc evaluated. Để xem tất cả (bao gồm in_progress), dùng `GET /interviews`.

## Use Cases
- **Progress tracking**: Xem tiến độ qua các lần phỏng vấn
- **Score comparison**: So sánh điểm giữa các lần
- **Performance review**: Review lại các buổi phỏng vấn
- **Trend analysis**: Phân tích xu hướng cải thiện

## Error Cases
- **401 Unauthorized**: Missing hoặc invalid token

## cURL Example
```bash
curl -X GET "http://localhost:8000/api/profile/history?per_page=10" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

## Difference from GET /interviews
| Endpoint | Purpose | Filter |
|----------|---------|--------|
| `GET /interviews` | All sessions | All statuses |
| `GET /profile/history` | Completed only | submitted, evaluated |

## Notes
- Chỉ hiển thị interviews đã hoàn thành
- Không hiển thị interviews đang in_progress
- Useful cho analytics và progress tracking
- Template name có thể join từ template_id (future enhancement)
