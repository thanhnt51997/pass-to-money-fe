# Create Interview Session

API để tạo một phiên phỏng vấn mới từ Interview Template.

## Endpoint
`POST /api/interviews`

## Authentication
Required (JWT Token) - Candidate

## Request Body (JSON)
```json
{
  "template_id": "9d2e5c8a-1234-5678-9abc-def012345678"
}
```

## Validation Rules
- `template_id`: required, string (UUID), must exist and be active

## Response Success (201 Created)
```json
{
  "success": true,
  "data": {
    "interview_id": 1,
    "template_id": "9d2e5c8a-1234-5678-9abc-def012345678",
    "level": "Junior",
    "stack": "Backend",
    "status": "created"
  },
  "message": "Interview session created successfully."
}
```

## Business Rules
1. **Template must be ACTIVE**: Chỉ template có status = `active` mới được sử dụng
2. **Snapshot metadata**: Level và Stack được snapshot từ template (không thay đổi khi template update)
3. **Snapshot questions**: Tất cả questions từ template được copy vào session
4. **Initial status**: Session được tạo với status = `created`
5. **Candidate authentication**: Chỉ candidate đã login mới tạo được session

## Snapshot Data
Khi tạo session, hệ thống sẽ snapshot:
- Template metadata (level, stack, duration, scoring_strategy)
- Danh sách questions (order, weight, time_limit, mandatory)
- Question content (title, content, type, options)

→ Session độc lập với template sau khi tạo

## Error Cases
- **400 Bad Request**:
  - Template không tồn tại
  - Template không active
  - Validation failed
- **401 Unauthorized**: Missing hoặc invalid token

## cURL Example
```bash
curl -X POST http://localhost:8000/api/interviews \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "template_id": "9d2e5c8a-1234-5678-9abc-def012345678"
  }'
```

## State Machine
```
[Template Active] → CREATE → [Session Created]
```

## Next Steps
Sau khi tạo session:
1. Call `POST /interviews/{id}/start` để bắt đầu
2. Call `GET /interviews/{id}/questions` để lấy danh sách câu hỏi
3. Bắt đầu trả lời câu hỏi
